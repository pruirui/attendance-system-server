import{d as b,r as E,bg as w,bf as I,a9 as $,a as r,c,ab as m,n as A,aa as F,w as g,l as h,i as v,ac as q,e,x as o,y as d,bx as V,h as P,t as n,av as T,E as L,p as M,b as R,_ as j}from"./index.9c52b99a.js";import{E as G}from"./el-pagination.18f1876d.js";import"./el-input.76522da5.js";/* empty css               */import"./el-select.cb4f0ecd.js";import{E as H}from"./el-empty.39e1d870.js";import{e as J}from"./util.ed0d6e80.js";import"./index.921ddcd1.js";import"./event.caa1cd05.js";import"./index.85908338.js";import"./strings.1531c023.js";import"./scroll.9df58ebe.js";import"./validator.a3ba21c6.js";const i=l=>(M("data-v-123cbaf6"),l=l(),R(),l),K=o("\u521B\u5EFA\u516C\u53F8"),O=o("\u641C\u7D22\u516C\u53F8"),Q=["onClick"],U={class:"card"},W={class:"left"},X={class:"right"},Y={class:"card-header"},Z=i(()=>e("div",{style:{width:"auto",height:"0px","border-top":"1px black dashed"}},null,-1)),ee={class:"text item"},te=i(()=>e("span",null,"\u6CE8\u518C\u4EBA:",-1)),ae=i(()=>e("span",null,"\u6CE8\u518C\u8D44\u672C:",-1)),se=i(()=>e("span",null,"\u6CE8\u518C\u65E5\u671F:",-1)),oe={class:"text item"},ne=i(()=>e("span",null,"\u516C\u53F8\u7535\u8BDD:",-1)),re={class:"text item"},ie=i(()=>e("span",null,"\u5730\u5740:",-1)),ue={class:"text item"},ce=i(()=>e("span",null,"\u90E8\u95E8\u7B80\u4ECB:",-1)),le={class:"pagination"},pe=b({__name:"companyAdmin",setup(l){let B=localStorage.getItem("ms_userId");const _=E([]),p=w(),u=I({querystring:"",pageIndex:1,pageSize:5}),x=E(0),y=()=>{B===null?(d.error("\u672A\u68C0\u6D4B\u5230\u7528\u6237\u767B\u5165\uFF0C\u8BF7\u767B\u5165\uFF01"),localStorage.clear(),p.push("/login")):V("","",u.pageIndex,u.pageSize).then(s=>{if(console.log(s),s.status!=200){d.error("\u51FA\u9519\u4E86");return}let a=s.data;console.log(a),a.code==1?(_.value=a.data,x.value=a.totals):d.error(a.msg)}).catch(s=>{d.error("\u7F51\u7EDC\u8D85\u65F6\u4E86")})},D=s=>{u.pageIndex=s,y()},k=s=>{localStorage.setItem("departmentId",s),p.push("/companyinformation")};return y(),(s,a)=>{const C=P,S=H,z=L,N=G,f=$("permiss");return r(),c("div",null,[_.value.length===0?(r(),c(m,{key:0},[A((r(),F(C,{type:"primary",onClick:a[0]||(a[0]=t=>h(p).push("/createcompany"))},{default:g(()=>[K]),_:1})),[[f,0]]),A((r(),F(C,{type:"primary",onClick:a[1]||(a[1]=t=>h(p).push("/companysearch"))},{default:g(()=>[O]),_:1})),[[f,1]]),v(S,{style:{"align-self":"center"},description:"\u8FD8\u672A\u52A0\u5165\u516C\u53F8\u5462\uFF01"})],64)):(r(),c(m,{key:1},[(r(!0),c(m,null,q(_.value,t=>(r(),c("div",{class:"container",onClick:de=>k(t.departmentid)},[e("div",U,[e("div",W,[v(z,{class:"avatar",style:T(`background:${h(J)(t.departmentName)}`),shape:"square",size:90},{default:g(()=>[o(n(t.departmentName.substr(0,4)),1)]),_:2},1032,["style"])]),e("div",X,[e("div",Y,[e("span",null,n(t.departmentName),1)]),Z,e("div",ee,[te,o(" "+n(t.username)+"\xA0\xA0\xA0\xA0 ",1),ae,o(n(t.rmb)+"\xA0\xA0\xA0\xA0 ",1),se,o(n(t.createTime.split(" ")[0]),1)]),e("div",oe,[ne,o(n(t.phone),1)]),e("div",re,[ie,o(n(t.address),1)]),e("div",ue,[ce,o(n(t.description),1)])])])],8,Q))),256)),e("div",le,[v(N,{background:"",layout:"total, prev, pager, next","current-page":u.pageIndex,"page-size":u.pageSize,total:x.value,"pager-count":6,onCurrentChange:D},null,8,["current-page","page-size","total"])])],64))])}}});const De=j(pe,[["__scopeId","data-v-123cbaf6"]]);export{De as default};
